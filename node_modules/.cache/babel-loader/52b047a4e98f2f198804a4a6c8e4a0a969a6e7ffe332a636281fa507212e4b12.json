{"ast":null,"code":"import React,{useContext}from\"react\";import{Button}from\"@mui/material\";import{CartContext}from\"../../../../App\";import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddToCart(_ref){let{product,size,color}=_ref;const{cart,setCart}=useContext(CartContext);function addToCart(){// Check if the cart already has the exact same item with matching size and color\nconst existingCartItemIndex=cart.findIndex(item=>item.product.product_id===product.product_id&&item.size===size&&item.color===color);if(existingCartItemIndex>=0){// If item exists with same size and color, increase its quantity\nconst newCart=[...cart];newCart[existingCartItemIndex].quantity+=1;setCart(newCart);}else{// If item does not exist or differs in size/color, add it as a new item to the cart\nconst newCartItem={product,quantity:1,size,color};setCart([...cart,newCartItem]);}}return/*#__PURE__*/_jsx(_Fragment,{children:product?/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:addToCart,children:\"Add To Cart\"}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",children:\"Out of Stock\"})});}","map":{"version":3,"names":["React","useContext","Button","CartContext","jsx","_jsx","Fragment","_Fragment","AddToCart","_ref","product","size","color","cart","setCart","addToCart","existingCartItemIndex","findIndex","item","product_id","newCart","quantity","newCartItem","children","variant","onClick"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/components/ui/buttons/AddToCart/AddToCart.tsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Button } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { ICartContext, ICartItem } from \"../../../../types/CartTypes\";\nimport { CartContext } from \"../../../../App\";\nimport { Product } from \"../../../../types/types\";\n\ninterface IAddToCart {\n  product: Product;\n  size: string;\n  color: string;\n}\nexport default function AddToCart({ product, size, color }: IAddToCart) {\n  const { cart, setCart } = useContext(CartContext);\n\n  function addToCart() {\n    // Check if the cart already has the exact same item with matching size and color\n    const existingCartItemIndex = cart.findIndex(\n      (item) =>\n        item.product.product_id === product.product_id &&\n        item.size === size &&\n        item.color === color\n    );\n\n    if (existingCartItemIndex >= 0) {\n      // If item exists with same size and color, increase its quantity\n      const newCart = [...cart];\n      newCart[existingCartItemIndex].quantity += 1;\n      setCart(newCart);\n    } else {\n      // If item does not exist or differs in size/color, add it as a new item to the cart\n      const newCartItem = {\n        product,\n        quantity: 1,\n        size,\n        color,\n      };\n      setCart([...cart, newCartItem]);\n    }\n  }\n\n  return (\n    <>\n      {product ? (\n        <Button variant=\"contained\" onClick={addToCart}>\n          Add To Cart\n        </Button>\n      ) : (\n        <Button variant=\"contained\">Out of Stock</Button>\n      )}\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAkB,OAAO,CACnD,OAASC,MAAM,KAAQ,eAAe,CAGtC,OAASC,WAAW,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAQ9C,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,OAAO,CAAEC,IAAI,CAAEC,KAAkB,CAAC,CAAAH,IAAA,CACpE,KAAM,CAAEI,IAAI,CAAEC,OAAQ,CAAC,CAAGb,UAAU,CAACE,WAAW,CAAC,CAEjD,QAAS,CAAAY,SAASA,CAAA,CAAG,CACnB;AACA,KAAM,CAAAC,qBAAqB,CAAGH,IAAI,CAACI,SAAS,CACzCC,IAAI,EACHA,IAAI,CAACR,OAAO,CAACS,UAAU,GAAKT,OAAO,CAACS,UAAU,EAC9CD,IAAI,CAACP,IAAI,GAAKA,IAAI,EAClBO,IAAI,CAACN,KAAK,GAAKA,KACnB,CAAC,CAED,GAAII,qBAAqB,EAAI,CAAC,CAAE,CAC9B;AACA,KAAM,CAAAI,OAAO,CAAG,CAAC,GAAGP,IAAI,CAAC,CACzBO,OAAO,CAACJ,qBAAqB,CAAC,CAACK,QAAQ,EAAI,CAAC,CAC5CP,OAAO,CAACM,OAAO,CAAC,CAClB,CAAC,IAAM,CACL;AACA,KAAM,CAAAE,WAAW,CAAG,CAClBZ,OAAO,CACPW,QAAQ,CAAE,CAAC,CACXV,IAAI,CACJC,KACF,CAAC,CACDE,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAES,WAAW,CAAC,CAAC,CACjC,CACF,CAEA,mBACEjB,IAAA,CAAAE,SAAA,EAAAgB,QAAA,CACGb,OAAO,cACNL,IAAA,CAACH,MAAM,EAACsB,OAAO,CAAC,WAAW,CAACC,OAAO,CAAEV,SAAU,CAAAQ,QAAA,CAAC,aAEhD,CAAQ,CAAC,cAETlB,IAAA,CAACH,MAAM,EAACsB,OAAO,CAAC,WAAW,CAAAD,QAAA,CAAC,cAAY,CAAQ,CACjD,CACD,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}