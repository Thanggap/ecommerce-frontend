{"ast":null,"code":"var _jsxFileName = \"/home/thang/Documents/tmdt/ecommerce/frontend/src/context/CurrencyContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\n\n// Supported currencies\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CURRENCIES = {\n  USD: {\n    code: \"USD\",\n    symbol: \"$\",\n    locale: \"en-US\",\n    rate: 1\n  },\n  VND: {\n    code: \"VND\",\n    symbol: \"₫\",\n    locale: \"vi-VN\",\n    rate: 25000 // 1 USD = ~25,000 VND (approximate)\n  }\n};\nconst CurrencyContext = /*#__PURE__*/createContext({\n  currency: \"USD\",\n  setCurrency: () => {},\n  formatPrice: price => `$${price}`,\n  convertPrice: price => price,\n  config: CURRENCIES.USD\n});\nexport const useCurrency = () => {\n  _s();\n  return useContext(CurrencyContext);\n};\n_s(useCurrency, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst STORAGE_KEY = \"preferred_currency\";\nexport const CurrencyProvider = ({\n  children\n}) => {\n  _s2();\n  const [currency, setCurrencyState] = useState(() => {\n    // Load from localStorage\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved && (saved === \"USD\" || saved === \"VND\")) {\n      return saved;\n    }\n    return \"USD\";\n  });\n  const config = CURRENCIES[currency];\n\n  // Persist to localStorage\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, currency);\n  }, [currency]);\n  const setCurrency = newCurrency => {\n    setCurrencyState(newCurrency);\n  };\n\n  /**\n   * Convert price from USD (base) to selected currency\n   */\n  const convertPrice = priceInUSD => {\n    return priceInUSD * config.rate;\n  };\n\n  /**\n   * Format price in selected currency with proper locale formatting\n   */\n  const formatPrice = priceInUSD => {\n    const converted = convertPrice(priceInUSD);\n    return new Intl.NumberFormat(config.locale, {\n      style: \"currency\",\n      currency: config.code,\n      minimumFractionDigits: config.code === \"VND\" ? 0 : 2,\n      maximumFractionDigits: config.code === \"VND\" ? 0 : 2\n    }).format(converted);\n  };\n  return /*#__PURE__*/_jsxDEV(CurrencyContext.Provider, {\n    value: {\n      currency,\n      setCurrency,\n      formatPrice,\n      convertPrice,\n      config\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s2(CurrencyProvider, \"q85HRq2KWThpEYyhaUlUkWqP5Qg=\");\n_c = CurrencyProvider;\nexport default CurrencyContext;\nvar _c;\n$RefreshReg$(_c, \"CurrencyProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","CURRENCIES","USD","code","symbol","locale","rate","VND","CurrencyContext","currency","setCurrency","formatPrice","price","convertPrice","config","useCurrency","_s","STORAGE_KEY","CurrencyProvider","children","_s2","setCurrencyState","saved","localStorage","getItem","setItem","newCurrency","priceInUSD","converted","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/context/CurrencyContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\n\n// Supported currencies\nexport type CurrencyCode = \"USD\" | \"VND\";\n\ninterface CurrencyConfig {\n  code: CurrencyCode;\n  symbol: string;\n  locale: string;\n  rate: number; // Rate relative to USD (base currency in DB)\n}\n\nconst CURRENCIES: Record<CurrencyCode, CurrencyConfig> = {\n  USD: {\n    code: \"USD\",\n    symbol: \"$\",\n    locale: \"en-US\",\n    rate: 1,\n  },\n  VND: {\n    code: \"VND\",\n    symbol: \"₫\",\n    locale: \"vi-VN\",\n    rate: 25000, // 1 USD = ~25,000 VND (approximate)\n  },\n};\n\ninterface CurrencyContextType {\n  currency: CurrencyCode;\n  setCurrency: (currency: CurrencyCode) => void;\n  formatPrice: (priceInUSD: number) => string;\n  convertPrice: (priceInUSD: number) => number;\n  config: CurrencyConfig;\n}\n\nconst CurrencyContext = createContext<CurrencyContextType>({\n  currency: \"USD\",\n  setCurrency: () => {},\n  formatPrice: (price) => `$${price}`,\n  convertPrice: (price) => price,\n  config: CURRENCIES.USD,\n});\n\nexport const useCurrency = () => useContext(CurrencyContext);\n\ninterface CurrencyProviderProps {\n  children: ReactNode;\n}\n\nconst STORAGE_KEY = \"preferred_currency\";\n\nexport const CurrencyProvider: React.FC<CurrencyProviderProps> = ({ children }) => {\n  const [currency, setCurrencyState] = useState<CurrencyCode>(() => {\n    // Load from localStorage\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved && (saved === \"USD\" || saved === \"VND\")) {\n      return saved;\n    }\n    return \"USD\";\n  });\n\n  const config = CURRENCIES[currency];\n\n  // Persist to localStorage\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, currency);\n  }, [currency]);\n\n  const setCurrency = (newCurrency: CurrencyCode) => {\n    setCurrencyState(newCurrency);\n  };\n\n  /**\n   * Convert price from USD (base) to selected currency\n   */\n  const convertPrice = (priceInUSD: number): number => {\n    return priceInUSD * config.rate;\n  };\n\n  /**\n   * Format price in selected currency with proper locale formatting\n   */\n  const formatPrice = (priceInUSD: number): string => {\n    const converted = convertPrice(priceInUSD);\n    \n    return new Intl.NumberFormat(config.locale, {\n      style: \"currency\",\n      currency: config.code,\n      minimumFractionDigits: config.code === \"VND\" ? 0 : 2,\n      maximumFractionDigits: config.code === \"VND\" ? 0 : 2,\n    }).format(converted);\n  };\n\n  return (\n    <CurrencyContext.Provider\n      value={{\n        currency,\n        setCurrency,\n        formatPrice,\n        convertPrice,\n        config,\n      }}\n    >\n      {children}\n    </CurrencyContext.Provider>\n  );\n};\n\nexport default CurrencyContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}