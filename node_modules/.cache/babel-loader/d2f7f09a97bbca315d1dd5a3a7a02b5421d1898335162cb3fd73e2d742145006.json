{"ast":null,"code":"var _jsxFileName = \"/home/thang/Documents/tmdt/ecommerce/frontend/src/components/shared/cart/Cart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext, useState } from \"react\";\nimport ShoppingBagOutlinedIcon from \"@mui/icons-material/ShoppingBagOutlined\";\nimport SideDrawer from \"../modal/SideDrawer/SideDrawer\";\nimport { Typography, Box, Button } from \"@mui/material\";\nimport Divider from \"@mui/material/Divider\";\nimport { AWS_S3_BASE_URL } from \"../../../constants\";\nimport { CartContext } from \"../../../App\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const [open, setOpen] = useState(false);\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const [subTotal, setSubTotal] = useState(0);\n  const [tax, setTax] = useState(0);\n  const [total, setTotal] = useState(0);\n  useEffect(() => {\n    const newSubTotal = cart.reduce((accumulator, cartItem) => {\n      const price = cartItem.product.sale_price || cartItem.product.price;\n      return accumulator + price * cartItem.quantity;\n    }, 0);\n    setSubTotal(newSubTotal);\n    console.log(total);\n  }, [cart]);\n  useEffect(() => {\n    setTax(0.07 * Number(subTotal));\n  }, [subTotal]);\n  useEffect(() => {\n    setTotal(Number(tax) + Number(subTotal));\n  }, [tax]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"hover:opacity-70\",\n      onClick: () => {\n        setOpen(!open);\n      },\n      children: /*#__PURE__*/_jsxDEV(ShoppingBagOutlinedIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SideDrawer, {\n      open: open,\n      setOpen: setOpen,\n      title: \"Your Cart\",\n      children: [cart.map((cartItem, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border p-2 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          children: /*#__PURE__*/_jsxDEV(\"figure\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              width: 100,\n              src: AWS_S3_BASE_URL + cartItem.product.image_url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: cartItem.product.product_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"gray\",\n            children: [cartItem.color, \" | \", cartItem.size]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            fontWeight: 600,\n            fontSize: 14,\n            children: [\"Qty: \", cartItem.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            fontWeight: 600,\n            fontSize: 14,\n            children: [\"$\", cartItem.product.sale_price ? cartItem.product.sale_price : cartItem.product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          padding: 4,\n          position: \"absolute\",\n          bottom: 0,\n          left: 0,\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: [\"Subtotal: $\", subTotal.toFixed(2), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Tax: $\", tax.toFixed(2), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: [\"Total: $\", total.toFixed(2), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Cart, \"61Ls6WUTbPyYcHjzEbBn8c+ZUy4=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useContext","useState","ShoppingBagOutlinedIcon","SideDrawer","Typography","Box","Button","Divider","AWS_S3_BASE_URL","CartContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","open","setOpen","cart","setCart","subTotal","setSubTotal","tax","setTax","total","setTotal","newSubTotal","reduce","accumulator","cartItem","price","product","sale_price","quantity","console","log","Number","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","title","map","i","width","src","image_url","product_name","color","size","fontWeight","fontSize","sx","padding","position","bottom","left","variant","toFixed","_c","$RefreshReg$"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/components/shared/cart/Cart.tsx"],"sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\nimport ShoppingBagOutlinedIcon from \"@mui/icons-material/ShoppingBagOutlined\";\nimport SideDrawer from \"../modal/SideDrawer/SideDrawer\";\nimport { Typography, Box, Button } from \"@mui/material\";\nimport Divider from \"@mui/material/Divider\";\nimport { AWS_S3_BASE_URL } from \"../../../constants\";\nimport { CartContext } from \"../../../App\";\n\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nexport default function Cart() {\n  const [open, setOpen] = useState(false);\n  const { cart, setCart } = useContext(CartContext);\n  const [subTotal, setSubTotal] = useState<Number>(0);\n  const [tax, setTax] = useState<Number>(0);\n  const [total, setTotal] = useState<Number>(0);\n  useEffect(() => {\n    const newSubTotal = cart.reduce((accumulator, cartItem) => {\n      const price = cartItem.product.sale_price || cartItem.product.price;\n      return accumulator + price * cartItem.quantity;\n    }, 0);\n    setSubTotal(newSubTotal);\n    console.log(total);\n  }, [cart]);\n\n  useEffect(() => {\n    setTax(0.07 * Number(subTotal));\n  }, [subTotal]);\n\n  useEffect(() => {\n    setTotal(Number(tax) + Number(subTotal));\n  }, [tax]);\n  return (\n    <>\n      <button\n        className=\"hover:opacity-70\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <ShoppingBagOutlinedIcon />\n      </button>\n      <SideDrawer open={open} setOpen={setOpen} title=\"Your Cart\">\n        {cart.map((cartItem, i) => (\n          <div className=\"border p-2 flex items-center gap-2\">\n            <aside>\n              <figure>\n                <img\n                  width={100}\n                  src={AWS_S3_BASE_URL + cartItem.product.image_url}\n                />\n              </figure>\n            </aside>\n            <div>\n              <Typography>{cartItem.product.product_name}</Typography>\n              <Typography color={\"gray\"}>\n                {cartItem.color} | {cartItem.size}\n              </Typography>\n              <Typography fontWeight={600} fontSize={14}>\n                Qty: {cartItem.quantity}\n              </Typography>\n              <Typography fontWeight={600} fontSize={14}>\n                $\n                {cartItem.product.sale_price\n                  ? cartItem.product.sale_price\n                  : cartItem.product.price}\n              </Typography>\n            </div>\n          </div>\n        ))}\n        <Box\n          sx={{\n            padding: 4,\n            position: \"absolute\",\n            bottom: 0,\n            left: 0,\n            width: \"100%\",\n          }}\n        >\n          <Box>\n            <Typography variant=\"h6\">\n              Subtotal: ${subTotal.toFixed(2)}{\" \"}\n            </Typography>\n            <Typography>Tax: ${tax.toFixed(2)} </Typography>\n            <Typography variant=\"h5\">Total: ${total.toFixed(2)} </Typography>\n          </Box>\n          <Divider />\n          <Button>Checkout</Button>\n        </Box>\n      </SideDrawer>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}