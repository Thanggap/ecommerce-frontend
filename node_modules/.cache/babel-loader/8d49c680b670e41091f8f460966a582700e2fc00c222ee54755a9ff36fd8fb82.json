{"ast":null,"code":"import api from \"./api\";\n\n// Types\n\n// Create order from cart\nexport const createOrder = async request => {\n  const response = await api.post(\"/orders\", request);\n  return response.data;\n};\n\n// Get user's orders\nexport const getMyOrders = async () => {\n  const response = await api.get(\"/orders\");\n  return response.data;\n};\n\n// Get order detail\nexport const getOrderDetail = async orderId => {\n  const response = await api.get(`/orders/${orderId}`);\n  return response.data;\n};\n\n// Cancel order (user can cancel if status is Pending or Confirmed)\nexport const cancelOrder = async orderId => {\n  const response = await api.post(`/orders/${orderId}/cancel`);\n  return response.data;\n};\n\n// =====================\n// Admin APIs\n// =====================\n\n// Get all orders (admin)\nexport const adminGetOrders = async (page = 1, size = 20, status) => {\n  const params = new URLSearchParams();\n  params.append(\"page\", String(page));\n  params.append(\"size\", String(size));\n  if (status) params.append(\"status\", status);\n  const response = await api.get(`/admin/orders?${params.toString()}`);\n  return response.data;\n};\n\n// Get order detail (admin)\nexport const adminGetOrderDetail = async orderId => {\n  const response = await api.get(`/admin/orders/${orderId}`);\n  return response.data;\n};\n\n// Update order status (admin)\nexport const adminUpdateOrderStatus = async (orderId, status) => {\n  const response = await api.put(`/admin/orders/${orderId}/status`, {\n    status\n  });\n  return response.data;\n};\n\n// Export as service object for convenience\nexport const orderService = {\n  createOrder,\n  getMyOrders,\n  getOrderDetail,\n  cancelOrder,\n  adminGetOrders,\n  adminGetOrderDetail,\n  adminUpdateOrderStatus\n};\nexport default orderService;","map":{"version":3,"names":["api","createOrder","request","response","post","data","getMyOrders","get","getOrderDetail","orderId","cancelOrder","adminGetOrders","page","size","status","params","URLSearchParams","append","String","toString","adminGetOrderDetail","adminUpdateOrderStatus","put","orderService"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/services/Order.ts"],"sourcesContent":["import api from \"./api\";\n\n// Types\nexport interface IShippingInfo {\n  name: string;\n  phone: string;\n  email: string;\n  address: string;\n  note?: string;\n}\n\nexport interface ICreateOrderRequest {\n  shipping: IShippingInfo;\n}\n\nexport interface IOrderItem {\n  id: number;\n  product_id: number;\n  product_name: string;\n  product_image: string | null;\n  product_size: string | null;\n  quantity: number;\n  unit_price: number;\n  total_price: number;\n}\n\nexport interface IOrder {\n  id: number;\n  user_id: string;\n  shipping_name: string;\n  shipping_phone: string;\n  shipping_email: string;\n  shipping_address: string;\n  subtotal: number;\n  shipping_fee: number;\n  total_amount: number;\n  status: string;\n  note: string | null;\n  items: IOrderItem[];\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface IOrderListItem {\n  id: number;\n  total_amount: number;\n  status: string;\n  items_count: number;\n  created_at: string;\n}\n\n// Create order from cart\nexport const createOrder = async (request: ICreateOrderRequest): Promise<IOrder> => {\n  const response = await api.post(\"/orders\", request);\n  return response.data;\n};\n\n// Get user's orders\nexport const getMyOrders = async (): Promise<IOrderListItem[]> => {\n  const response = await api.get(\"/orders\");\n  return response.data;\n};\n\n// Get order detail\nexport const getOrderDetail = async (orderId: number): Promise<IOrder> => {\n  const response = await api.get(`/orders/${orderId}`);\n  return response.data;\n};\n\n// Cancel order (user can cancel if status is Pending or Confirmed)\nexport const cancelOrder = async (orderId: number): Promise<IOrder> => {\n  const response = await api.post(`/orders/${orderId}/cancel`);\n  return response.data;\n};\n\n// =====================\n// Admin APIs\n// =====================\n\nexport interface IAdminOrderListItem {\n  id: number;\n  user_id: string;\n  user_email: string | null;\n  shipping_name: string;\n  total_amount: number;\n  status: string;\n  items_count: number;\n  created_at: string;\n}\n\nexport interface IAdminOrdersResponse {\n  orders: IAdminOrderListItem[];\n  total: number;\n  page: number;\n  size: number;\n  total_pages: number;\n}\n\n// Get all orders (admin)\nexport const adminGetOrders = async (\n  page: number = 1,\n  size: number = 20,\n  status?: string\n): Promise<IAdminOrdersResponse> => {\n  const params = new URLSearchParams();\n  params.append(\"page\", String(page));\n  params.append(\"size\", String(size));\n  if (status) params.append(\"status\", status);\n  \n  const response = await api.get(`/admin/orders?${params.toString()}`);\n  return response.data;\n};\n\n// Get order detail (admin)\nexport const adminGetOrderDetail = async (orderId: number): Promise<IOrder> => {\n  const response = await api.get(`/admin/orders/${orderId}`);\n  return response.data;\n};\n\n// Update order status (admin)\nexport const adminUpdateOrderStatus = async (orderId: number, status: string): Promise<IOrder> => {\n  const response = await api.put(`/admin/orders/${orderId}/status`, { status });\n  return response.data;\n};\n\n// Export as service object for convenience\nexport const orderService = {\n  createOrder,\n  getMyOrders,\n  getOrderDetail,\n  cancelOrder,\n  adminGetOrders,\n  adminGetOrderDetail,\n  adminUpdateOrderStatus,\n};\n\nexport default orderService;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;;AAiDA;AACA,OAAO,MAAMC,WAAW,GAAG,MAAOC,OAA4B,IAAsB;EAClF,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,SAAS,EAAEF,OAAO,CAAC;EACnD,OAAOC,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAuC;EAChE,MAAMH,QAAQ,GAAG,MAAMH,GAAG,CAACO,GAAG,CAAC,SAAS,CAAC;EACzC,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMG,cAAc,GAAG,MAAOC,OAAe,IAAsB;EACxE,MAAMN,QAAQ,GAAG,MAAMH,GAAG,CAACO,GAAG,CAAE,WAAUE,OAAQ,EAAC,CAAC;EACpD,OAAON,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMK,WAAW,GAAG,MAAOD,OAAe,IAAsB;EACrE,MAAMN,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAE,WAAUK,OAAQ,SAAQ,CAAC;EAC5D,OAAON,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA;AACA;;AAqBA;AACA,OAAO,MAAMM,cAAc,GAAG,MAAAA,CAC5BC,IAAY,GAAG,CAAC,EAChBC,IAAY,GAAG,EAAE,EACjBC,MAAe,KACmB;EAClC,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;EACpCD,MAAM,CAACE,MAAM,CAAC,MAAM,EAAEC,MAAM,CAACN,IAAI,CAAC,CAAC;EACnCG,MAAM,CAACE,MAAM,CAAC,MAAM,EAAEC,MAAM,CAACL,IAAI,CAAC,CAAC;EACnC,IAAIC,MAAM,EAAEC,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAEH,MAAM,CAAC;EAE3C,MAAMX,QAAQ,GAAG,MAAMH,GAAG,CAACO,GAAG,CAAE,iBAAgBQ,MAAM,CAACI,QAAQ,CAAC,CAAE,EAAC,CAAC;EACpE,OAAOhB,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMe,mBAAmB,GAAG,MAAOX,OAAe,IAAsB;EAC7E,MAAMN,QAAQ,GAAG,MAAMH,GAAG,CAACO,GAAG,CAAE,iBAAgBE,OAAQ,EAAC,CAAC;EAC1D,OAAON,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMgB,sBAAsB,GAAG,MAAAA,CAAOZ,OAAe,EAAEK,MAAc,KAAsB;EAChG,MAAMX,QAAQ,GAAG,MAAMH,GAAG,CAACsB,GAAG,CAAE,iBAAgBb,OAAQ,SAAQ,EAAE;IAAEK;EAAO,CAAC,CAAC;EAC7E,OAAOX,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMkB,YAAY,GAAG;EAC1BtB,WAAW;EACXK,WAAW;EACXE,cAAc;EACdE,WAAW;EACXC,cAAc;EACdS,mBAAmB;EACnBC;AACF,CAAC;AAED,eAAeE,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}