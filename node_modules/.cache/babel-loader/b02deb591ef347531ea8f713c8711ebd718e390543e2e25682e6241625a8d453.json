{"ast":null,"code":"import { BACKEND_URL } from \"../constants\";\nexport const getProductInfo = async productID => {\n  try {\n    const response = await fetch(`${BACKEND_URL}/products/${productID}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return null;\n      }\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Error fetching product information\");\n  }\n};\nexport const getProductList = async ({\n  page,\n  limit\n}) => {\n  try {\n    const response = await fetch(`${BACKEND_URL}/products?page${page}&limit=${limit}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return null;\n      }\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Error fetching product information\");\n  }\n};\n\n// Upload image to Cloudinary via backend\nexport const uploadProductImage = async file => {\n  try {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const response = await fetch(`${BACKEND_URL}/upload-image`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw new Error(\"Upload failed\");\n    }\n  } catch (err) {\n    console.error(\"Error uploading image:\", err);\n    return null;\n  }\n};\n\n// Create new product\n\nexport const createProduct = async product => {\n  try {\n    const response = await fetch(`${BACKEND_URL}/products`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(product)\n    });\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw new Error(\"Create product failed\");\n    }\n  } catch (err) {\n    console.error(\"Error creating product:\", err);\n    return null;\n  }\n};","map":{"version":3,"names":["BACKEND_URL","getProductInfo","productID","response","fetch","then","res","ok","json","err","console","error","getProductList","page","limit","uploadProductImage","file","formData","FormData","append","method","body","Error","createProduct","product","headers","JSON","stringify"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/services/Product.ts"],"sourcesContent":["import { BACKEND_URL } from \"../constants\";\n\nexport const getProductInfo = async (productID: string) => {\n  try {\n    const response = await fetch(`${BACKEND_URL}/products/${productID}`).then(\n      (res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return null;\n        }\n      }\n    );\n    return response;\n  } catch (err) {\n    console.error(\"Error fetching product information\");\n  }\n};\n\ninterface IGetProductList {\n  page: Number;\n  limit: Number;\n}\n\nexport const getProductList = async ({\n  page,\n  limit,\n}: IGetProductList) => {\n  try {\n    const response = await fetch(\n      `${BACKEND_URL}/products?page${page}&limit=${limit}`\n    ).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return null;\n      }\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Error fetching product information\");\n  }\n};\n\n// Upload image to Cloudinary via backend\nexport const uploadProductImage = async (file: File) => {\n  try {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    const response = await fetch(`${BACKEND_URL}/upload-image`, {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw new Error(\"Upload failed\");\n    }\n  } catch (err) {\n    console.error(\"Error uploading image:\", err);\n    return null;\n  }\n};\n\n// Create new product\nexport interface ICreateProduct {\n  slug: string;\n  product_type: string;\n  product_name: string;\n  price: number;\n  blurb?: string;\n  description?: string;\n  image_url?: string;\n  sale_price?: number;\n}\n\nexport const createProduct = async (product: ICreateProduct) => {\n  try {\n    const response = await fetch(`${BACKEND_URL}/products`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(product),\n    });\n\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw new Error(\"Create product failed\");\n    }\n  } catch (err) {\n    console.error(\"Error creating product:\", err);\n    return null;\n  }\n};\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,cAAc;AAE1C,OAAO,MAAMC,cAAc,GAAG,MAAOC,SAAiB,IAAK;EACzD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,WAAY,aAAYE,SAAU,EAAC,CAAC,CAACG,IAAI,CACtEC,GAAG,IAAK;MACP,IAAIA,GAAG,CAACC,EAAE,EAAE;QACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;MACnB,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF,CACF,CAAC;IACD,OAAOL,QAAQ;EACjB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAC;EACrD;AACF,CAAC;AAOD,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAO;EACnCC,IAAI;EACJC;AACe,CAAC,KAAK;EACrB,IAAI;IACF,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEJ,WAAY,iBAAgBa,IAAK,UAASC,KAAM,EACrD,CAAC,CAACT,IAAI,CAAEC,GAAG,IAAK;MACd,IAAIA,GAAG,CAACC,EAAE,EAAE;QACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;MACnB,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF,CAAC,CAAC;IACF,OAAOL,QAAQ;EACjB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAC;EACrD;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,kBAAkB,GAAG,MAAOC,IAAU,IAAK;EACtD,IAAI;IACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAE7B,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,WAAY,eAAc,EAAE;MAC1DoB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEJ;IACR,CAAC,CAAC;IAEF,IAAId,QAAQ,CAACI,EAAE,EAAE;MACf,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC9B,CAAC,MAAM;MACL,MAAM,IAAIc,KAAK,CAAC,eAAe,CAAC;IAClC;EACF,CAAC,CAAC,OAAOb,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;IAC5C,OAAO,IAAI;EACb;AACF,CAAC;;AAED;;AAYA,OAAO,MAAMc,aAAa,GAAG,MAAOC,OAAuB,IAAK;EAC9D,IAAI;IACF,MAAMrB,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,WAAY,WAAU,EAAE;MACtDoB,MAAM,EAAE,MAAM;MACdK,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDJ,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACH,OAAO;IAC9B,CAAC,CAAC;IAEF,IAAIrB,QAAQ,CAACI,EAAE,EAAE;MACf,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC9B,CAAC,MAAM;MACL,MAAM,IAAIc,KAAK,CAAC,uBAAuB,CAAC;IAC1C;EACF,CAAC,CAAC,OAAOb,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;IAC7C,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}