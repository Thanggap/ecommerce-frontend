{"ast":null,"code":"var _jsxFileName = \"/home/thang/Documents/tmdt/ecommerce/frontend/src/components/ui/buttons/AddToCart/AddToCart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { Button } from \"@mui/material\";\nimport { CartContext } from \"../../../../App\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddToCart({\n  product,\n  size,\n  color\n}) {\n  _s();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  function addToCart() {\n    // Check if the cart already has the exact same item with matching size and color\n    const existingCartItemIndex = cart.findIndex(item => item.product.product_id === product.product_id && item.size === size && item.color === color);\n    if (existingCartItemIndex >= 0) {\n      // If item exists with same size and color, increase its quantity\n      const newCart = [...cart];\n      newCart[existingCartItemIndex].quantity += 1;\n      setCart(newCart);\n    } else {\n      // If item does not exist or differs in size/color, add it as a new item to the cart\n      const newCartItem = {\n        product,\n        quantity: 1,\n        size,\n        color\n      };\n      setCart([...cart, newCartItem]);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: product ? /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: addToCart,\n      children: \"Add To Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      children: \"Out of Stock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(AddToCart, \"rJ2/z8YtMAl5XvszCoK8oWF5i9w=\");\n_c = AddToCart;\nvar _c;\n$RefreshReg$(_c, \"AddToCart\");","map":{"version":3,"names":["React","useContext","Button","CartContext","jsxDEV","_jsxDEV","Fragment","_Fragment","AddToCart","product","size","color","_s","cart","setCart","addToCart","existingCartItemIndex","findIndex","item","product_id","newCart","quantity","newCartItem","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/thang/Documents/tmdt/ecommerce/frontend/src/components/ui/buttons/AddToCart/AddToCart.tsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Button } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { ICartContext, ICartItem } from \"../../../../types/CartTypes\";\nimport { CartContext } from \"../../../../App\";\nimport { Product } from \"../../../../types/types\";\n\ninterface IAddToCart {\n  product: Product;\n  size: string;\n  color: string;\n}\nexport default function AddToCart({ product, size, color }: IAddToCart) {\n  const { cart, setCart } = useContext(CartContext);\n\n  function addToCart() {\n    // Check if the cart already has the exact same item with matching size and color\n    const existingCartItemIndex = cart.findIndex(\n      (item) =>\n        item.product.product_id === product.product_id &&\n        item.size === size &&\n        item.color === color\n    );\n\n    if (existingCartItemIndex >= 0) {\n      // If item exists with same size and color, increase its quantity\n      const newCart = [...cart];\n      newCart[existingCartItemIndex].quantity += 1;\n      setCart(newCart);\n    } else {\n      // If item does not exist or differs in size/color, add it as a new item to the cart\n      const newCartItem = {\n        product,\n        quantity: 1,\n        size,\n        color,\n      };\n      setCart([...cart, newCartItem]);\n    }\n  }\n\n  return (\n    <>\n      {product ? (\n        <Button variant=\"contained\" onClick={addToCart}>\n          Add To Cart\n        </Button>\n      ) : (\n        <Button variant=\"contained\">Out of Stock</Button>\n      )}\n    </>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAkB,OAAO;AACnD,SAASC,MAAM,QAAQ,eAAe;AAGtC,SAASC,WAAW,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAQ9C,eAAe,SAASC,SAASA,CAAC;EAAEC,OAAO;EAAEC,IAAI;EAAEC;AAAkB,CAAC,EAAE;EAAAC,EAAA;EACtE,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGb,UAAU,CAACE,WAAW,CAAC;EAEjD,SAASY,SAASA,CAAA,EAAG;IACnB;IACA,MAAMC,qBAAqB,GAAGH,IAAI,CAACI,SAAS,CACzCC,IAAI,IACHA,IAAI,CAACT,OAAO,CAACU,UAAU,KAAKV,OAAO,CAACU,UAAU,IAC9CD,IAAI,CAACR,IAAI,KAAKA,IAAI,IAClBQ,IAAI,CAACP,KAAK,KAAKA,KACnB,CAAC;IAED,IAAIK,qBAAqB,IAAI,CAAC,EAAE;MAC9B;MACA,MAAMI,OAAO,GAAG,CAAC,GAAGP,IAAI,CAAC;MACzBO,OAAO,CAACJ,qBAAqB,CAAC,CAACK,QAAQ,IAAI,CAAC;MAC5CP,OAAO,CAACM,OAAO,CAAC;IAClB,CAAC,MAAM;MACL;MACA,MAAME,WAAW,GAAG;QAClBb,OAAO;QACPY,QAAQ,EAAE,CAAC;QACXX,IAAI;QACJC;MACF,CAAC;MACDG,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAES,WAAW,CAAC,CAAC;IACjC;EACF;EAEA,oBACEjB,OAAA,CAAAE,SAAA;IAAAgB,QAAA,EACGd,OAAO,gBACNJ,OAAA,CAACH,MAAM;MAACsB,OAAO,EAAC,WAAW;MAACC,OAAO,EAAEV,SAAU;MAAAQ,QAAA,EAAC;IAEhD;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,gBAETxB,OAAA,CAACH,MAAM;MAACsB,OAAO,EAAC,WAAW;MAAAD,QAAA,EAAC;IAAY;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EACjD,gBACD,CAAC;AAEP;AAACjB,EAAA,CAxCuBJ,SAAS;AAAAsB,EAAA,GAATtB,SAAS;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}